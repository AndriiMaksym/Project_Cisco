{% extends "base.html" %}
{% load static %}

{% block title %}Home Page{% endblock %}
{% block content %}

        <div class="container">
        <header class="text-center mb-4">
            <h1 class="display-1">Health Tracker</h1>
        </header>

        <main >

            {% if not user.is_authenticated %}
            <h2 class="display-4 text-center mb-4">Monitor your health every day</h2>
            {% endif %}

            {% if user.is_authenticated %}
            <nav class="mb-4">
                <ul class="nav justify-content-center">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'add_activity' %}"><button class="btn btn-outline-warning" >Add Activity</button></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'add_meal' %}"><button class="btn btn-outline-info ">Add Meal</button></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'add_weight' %}"><button class="btn btn-outline-light">Add Weight</button></a>
                    </li>
                </ul>
            </nav>
            {% endif %}

            <div class="row ">


                <div class="col-md-8 mx-auto">
                    {% if user.is_authenticated %}
                        <div class="d-grid gap-2 mb-3">
                            <a class=" btn btn-success btn-lg" href="{% url 'data_overview' %}">View Data Overview</a>
<!--                            <button class="btn btn-danger btn-lg" onclick="document.getElementById('logout-form').submit();">Logout</button>-->
<!--                            <form id="logout-form" action="{% url 'logout' %}" method="post" style="display: none;">-->
<!--                                {% csrf_token %}-->
<!--                            </form>-->
                        </div>
<!--&lt;!&ndash;Carousel&ndash;&gt;-->

<!--            <div class="row justify-content-center align-items-center">-->
<!--                <div id="carouselExampleInterval" class="carousel slide w-50 mb-4"  data-bs-ride="carousel">-->
<!--                      <div class="carousel-inner">-->
<!--                        <div class="carousel-item active" data-bs-interval="10000">-->
<!--                          <img src="{% static 'images/foto1.jpg' %}" class="d-block w-100" alt="...">-->
<!--                        </div>-->
<!--                        <div class="carousel-item" data-bs-interval="2000">-->
<!--                          <img src="{% static 'images/foto2.jpg' %}" class="d-block w-100" alt="...">-->
<!--                        </div>-->
<!--                        <div class="carousel-item">-->
<!--                          <img src="{% static 'images/foto3.jpg' %}" class="d-block w-100" alt="...">-->
<!--                        </div>-->
<!--                      </div>-->
<!--                      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">-->
<!--                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
<!--                        <span class="visually-hidden">Previous</span>-->
<!--                      </button>-->
<!--                      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">-->
<!--                        <span class="carousel-control-next-icon" aria-hidden="true"></span>-->
<!--                        <span class="visually-hidden">Next</span>-->
<!--                      </button>-->
<!--                </div>-->
<!--            </div>-->
<!--&lt;!&ndash;Carousel end&ndash;&gt;-->


                    {% else %}
                        <div class="d-grid gap-2 mb-3">
                            <a class="btn btn-primary btn-lg" href="{% url 'login' %}">Login</a>
                            <a class="btn btn-secondary btn-lg" href="{% url 'register' %}">Get started</a>
                        </div>
                    {% endif %}
                </div>
            </div>

            {% if not user.is_authenticated %}
            <div class="mt-2">
                <h3 class="text-center mb-3">Health Statistics</h3>
                <div class="row">
                    <div class="col-md-6">
                        <div class="card mb-5">
                            <div class="card-body">
                                <h5 class="card-title">Activity Chart</h5>
                                <canvas id="activity-chart" style="height: 300px;"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Meal Chart</h5>
                                <canvas id="meal-chart" style="height: 300px;"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}

            {% if not user.is_authenticated %}
            <div class="mt-5">
                <h3 class="text-center mb-4">Health Tips</h3>
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Stay Hydrated</h5>
                                <p class="card-text">Drinking enough water is essential for maintaining your body's functions. Aim to drink at least 8 glasses of water a day.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Eat Balanced Meals</h5>
                                <p class="card-text">A balanced diet provides the nutrients your body needs to function effectively. Include a variety of fruits, vegetables, proteins, and whole grains in your meals.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Exercise Regularly</h5>
                                <p class="card-text">Regular physical activity helps improve your overall health and fitness, and reduces your risk for many chronic diseases.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Get Enough Sleep</h5>
                                <p class="card-text">Quality sleep is essential for good health and well-being. Aim for 7-9 hours of sleep each night to help your body recover and function optimally.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Manage Stress</h5>
                                <p class="card-text">Effective stress management techniques, such as meditation, yoga, or deep breathing, can help improve your mental and physical health.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Regular Check-ups</h5>
                                <p class="card-text">Regular health check-ups can help detect potential health issues early, allowing you to take preventive measures to maintain your health.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    {% endif %}

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Placeholder script for charts using Chart.js library
        var ctx1 = document.getElementById('activity-chart').getContext('2d');
        var activityChart = new Chart(ctx1, {
            type: 'line',
            data: {
                labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                datasets: [{
                    label: 'Activities',
                    data: [65, 59, 80, 81, 56, 55, 40],
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1,
                    fill: false
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        var ctx2 = document.getElementById('meal-chart').getContext('2d');
        var mealChart = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                datasets: [{
                    label: 'Meals',
                    data: [65, 59, 80, 81, 56, 55, 40],
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>

{% endblock %}

